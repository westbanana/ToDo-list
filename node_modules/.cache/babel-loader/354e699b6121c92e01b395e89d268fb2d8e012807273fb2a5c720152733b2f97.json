{"ast":null,"code":"import _slicedToArray from\"C:/Programing/Projects/todo-list/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from'react';import style from'./style.module.scss';import getData from'../Helpers/GetData';// import Hint from '../Hint';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateToDo=function CreateToDo(_ref){var inputToDoName=_ref.inputToDoName,setInputToDoName=_ref.setInputToDoName,toDoList=_ref.toDoList;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),emptyClickCount=_useState2[0],setEmptyClickCount=_useState2[1];var stopRef=useRef();var createToDo=function createToDo(e){e.stopPropagation();if(inputToDoName.length){var todo={name:inputToDoName,time:getData(),id:new Date().getTime(),isActive:false};toDoList.push(todo);localStorage.setItem('ToDos',JSON.stringify(toDoList));setInputToDoName('');}else{setEmptyClickCount(function(prev){return prev+1;});}};useEffect(function(){if(emptyClickCount%10===0&&emptyClickCount>=10){stopRef.current.classList.remove(style.stopSpanHide);stopRef.current.classList.add(style.stopSpanShow);setTimeout(function(){stopRef.current.classList.remove(style.stopSpanShow);stopRef.current.classList.add(style.stopSpanHide);},3000);}},[emptyClickCount]);return/*#__PURE__*/_jsxs(\"div\",{className:style.main,children:[/*#__PURE__*/_jsx(\"span\",{ref:stopRef,className:style.stopSpanHide,children:\"\\u0410\\u0421\\u0422\\u0410\\u041D\\u0410\\u0412\\u0418\\u0422\\u0415\\u0421\\u042C\"}),/*#__PURE__*/_jsxs(\"form\",{action:\"#\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",maxLength:300,placeholder:\"Write what to do\",value:inputToDoName,onChange:function onChange(e){return setInputToDoName(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:createToDo,type:\"submit\",children:\"Create\"}),/*#__PURE__*/_jsx(\"span\",{children:\"TODOs: \".concat(toDoList.length)})]})]});};export default CreateToDo;","map":{"version":3,"names":["React","useEffect","useRef","useState","style","getData","CreateToDo","inputToDoName","setInputToDoName","toDoList","emptyClickCount","setEmptyClickCount","stopRef","createToDo","e","stopPropagation","length","todo","name","time","id","Date","getTime","isActive","push","localStorage","setItem","JSON","stringify","prev","current","classList","remove","stopSpanHide","add","stopSpanShow","setTimeout","main","target","value"],"sources":["C:/Programing/Projects/todo-list/src/components/CreateToDo/index.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\n\nimport style from './style.module.scss';\n\nimport getData from '../Helpers/GetData';\n\n// import Hint from '../Hint';\n\nconst CreateToDo = ({ inputToDoName, setInputToDoName, toDoList }) => {\n  const [emptyClickCount, setEmptyClickCount] = useState(0);\n  const stopRef = useRef();\n  const createToDo = (e) => {\n    e.stopPropagation();\n    if (inputToDoName.length) {\n      const todo = {\n        name: inputToDoName,\n        time: getData(),\n        id: (new Date().getTime()),\n        isActive: false,\n      };\n      toDoList.push(todo);\n      localStorage.setItem('ToDos', JSON.stringify(toDoList));\n      setInputToDoName('');\n    } else {\n      setEmptyClickCount(prev => prev + 1);\n    }\n  };\n  useEffect(() => {\n    if (emptyClickCount % 10 === 0 && emptyClickCount >= 10) {\n      stopRef.current.classList.remove(style.stopSpanHide);\n      stopRef.current.classList.add(style.stopSpanShow);\n      setTimeout(() => {\n        stopRef.current.classList.remove(style.stopSpanShow);\n        stopRef.current.classList.add(style.stopSpanHide);\n      }, 3000);\n    }\n  }, [emptyClickCount]);\n  return (\n    <div className={style.main}>\n      <span\n        ref={stopRef}\n        className={style.stopSpanHide}\n      >\n        АСТАНАВИТЕСЬ\n      </span>\n      <form action=\"#\">\n        <input\n          type=\"text\"\n          maxLength={300}\n          placeholder=\"Write what to do\"\n          value={inputToDoName}\n          onChange={e => setInputToDoName(e.target.value)}\n        />\n        <button\n          onClick={createToDo}\n          type=\"submit\"\n        >\n          Create\n        </button>\n        <span>{`TODOs: ${toDoList.length}`}</span>\n      </form>\n      {/* <Hint\n        tittle=\"Заполните поле ввода\"\n        description=\"Чтобы создать TODO введите минимум 1 символ\"\n        isShowed={hintIsShowed}\n        closeHint={CloseHint}\n      /> */ }\n    </div>\n  );\n};\n\nexport default CreateToDo;\n"],"mappings":"sHAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAE1D,MAAOC,MAAK,KAAM,qBAAqB,CAEvC,MAAOC,QAAO,KAAM,oBAAoB,CAExC;AAAA,wFAEA,GAAMC,WAAU,CAAG,QAAbA,WAAU,MAAsD,IAAhDC,cAAa,MAAbA,aAAa,CAAEC,gBAAgB,MAAhBA,gBAAgB,CAAEC,QAAQ,MAARA,QAAQ,CAC7D,cAA8CN,QAAQ,CAAC,CAAC,CAAC,wCAAlDO,eAAe,eAAEC,kBAAkB,eAC1C,GAAMC,QAAO,CAAGV,MAAM,EAAE,CACxB,GAAMW,WAAU,CAAG,QAAbA,WAAU,CAAIC,CAAC,CAAK,CACxBA,CAAC,CAACC,eAAe,EAAE,CACnB,GAAIR,aAAa,CAACS,MAAM,CAAE,CACxB,GAAMC,KAAI,CAAG,CACXC,IAAI,CAAEX,aAAa,CACnBY,IAAI,CAAEd,OAAO,EAAE,CACfe,EAAE,CAAG,GAAIC,KAAI,EAAE,CAACC,OAAO,EAAG,CAC1BC,QAAQ,CAAE,KACZ,CAAC,CACDd,QAAQ,CAACe,IAAI,CAACP,IAAI,CAAC,CACnBQ,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEC,IAAI,CAACC,SAAS,CAACnB,QAAQ,CAAC,CAAC,CACvDD,gBAAgB,CAAC,EAAE,CAAC,CACtB,CAAC,IAAM,CACLG,kBAAkB,CAAC,SAAAkB,IAAI,QAAIA,KAAI,CAAG,CAAC,GAAC,CACtC,CACF,CAAC,CACD5B,SAAS,CAAC,UAAM,CACd,GAAIS,eAAe,CAAG,EAAE,GAAK,CAAC,EAAIA,eAAe,EAAI,EAAE,CAAE,CACvDE,OAAO,CAACkB,OAAO,CAACC,SAAS,CAACC,MAAM,CAAC5B,KAAK,CAAC6B,YAAY,CAAC,CACpDrB,OAAO,CAACkB,OAAO,CAACC,SAAS,CAACG,GAAG,CAAC9B,KAAK,CAAC+B,YAAY,CAAC,CACjDC,UAAU,CAAC,UAAM,CACfxB,OAAO,CAACkB,OAAO,CAACC,SAAS,CAACC,MAAM,CAAC5B,KAAK,CAAC+B,YAAY,CAAC,CACpDvB,OAAO,CAACkB,OAAO,CAACC,SAAS,CAACG,GAAG,CAAC9B,KAAK,CAAC6B,YAAY,CAAC,CACnD,CAAC,CAAE,IAAI,CAAC,CACV,CACF,CAAC,CAAE,CAACvB,eAAe,CAAC,CAAC,CACrB,mBACE,aAAK,SAAS,CAAEN,KAAK,CAACiC,IAAK,wBACzB,aACE,GAAG,CAAEzB,OAAQ,CACb,SAAS,CAAER,KAAK,CAAC6B,YAAa,UAC/B,0EAED,EAAO,cACP,cAAM,MAAM,CAAC,GAAG,wBACd,cACE,IAAI,CAAC,MAAM,CACX,SAAS,CAAE,GAAI,CACf,WAAW,CAAC,kBAAkB,CAC9B,KAAK,CAAE1B,aAAc,CACrB,QAAQ,CAAE,kBAAAO,CAAC,QAAIN,iBAAgB,CAACM,CAAC,CAACwB,MAAM,CAACC,KAAK,CAAC,EAAC,EAChD,cACF,eACE,OAAO,CAAE1B,UAAW,CACpB,IAAI,CAAC,QAAQ,UACd,QAED,EAAS,cACT,uCAAiBJ,QAAQ,CAACO,MAAM,GAAU,GACrC,GAOH,CAEV,CAAC,CAED,cAAeV,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}